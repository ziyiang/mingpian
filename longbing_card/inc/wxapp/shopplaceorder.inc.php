<?php
 goto eCiK5; eCiK5: define("\x52\117\117\x54\x5f\120\x41\x54\x48", IA_ROOT . "\57\x61\144\x64\x6f\x6e\163\x2f\x6c\x6f\x6e\x67\x62\x69\156\147\x5f\x63\x61\162\144\x2f"); goto BRnpp; RlqQp: require_once ROOT_PATH . "\57\151\156\x63\57\167\145\x37\x2e\160\150\160"; goto Tijhp; V1v4p: $direct = $_GPC["\x64\151\162\145\143\164"]; goto vn3j8; gSerV: return $this->result(-1, "\xe6\x9c\252\346\211\xbe\345\210\xb0\xe6\x94\xb6\350\264\xa7\345\x9c\xb0\345\235\x80", []); goto sOy_n; JtGFH: $trolley_arr = explode("\x2c", $trolley_ids); goto MdKSY; eUQxz: $time = time(); goto oyLz4; vn3j8: $number = $_GPC["\x6e\165\x6d\142\x65\162"]; goto JtGFH; EB851: $sql = "\123\105\x4c\105\x43\124\x20\141\x2e\151\x64\54\141\56\x73\160\x65\x5f\x70\162\x69\143\x65\137\x69\x64\54\141\x2e\156\165\x6d\142\x65\162\54\141\x2e\x67\x6f\157\144\163\x5f\151\x64\x2c\142\56\x6e\x61\155\x65\x2c\142\x2e\x63\157\166\x65\x72\54\x62\56\x66\x72\x65\151\x67\150\164\x20\x46\122\117\x4d\40" . tablename("\x6c\157\156\147\142\x69\x6e\147\137\x63\141\x72\144\137\x73\150\x6f\x70\x5f\x74\162\x6f\x6c\154\x65\171") . "\x20\x61\x20\114\x45\106\x54\x20\x4a\117\x49\116\x20" . tablename("\154\157\x6e\147\142\151\x6e\x67\x5f\143\x61\x72\144\x5f\x67\157\x6f\x64\x73") . "\x20\142\40\117\x4e\x20\x61\x2e\x67\157\x6f\144\163\x5f\151\144\x20\75\x20\142\x2e\151\x64\40\127\110\x45\x52\105\x20\141\56\165\x73\x65\x72\137\x69\x64\40\75\40{$uid}\40\46\x26\40\x61\x2e\163\164\x61\164\165\163\x20\75\40\x31\x20\x26\x26\x20\141\56\x69\144\x20\75\40{$trolley_ids}"; goto r3oFg; Tijhp: global $_GPC, $_W; goto jewQF; uXVMl: if (empty($result)) { goto IiAs4; } goto KRXQa; ExOw9: $total_freight = 0; goto TooFM; Y81mt: foreach ($list as $k => $v) { goto V4sn_; IOAt7: $sql = "\x53\105\x4c\x45\x43\x54\40\52\40\x46\x52\x4f\x4d\x20" . tablename("\x6c\157\156\x67\x62\x69\x6e\x67\x5f\143\x61\x72\144\137\x73\150\157\x70\x5f\163\160\145") . "\40\127\x48\x45\x52\x45\40\151\144\x20\x49\116\x20{$str}"; goto un5DE; ZBfPL: vlrCG: goto zhNXV; I4OJU: $list[$k]["\x73\x70\145"] = $titles; goto ZMi2S; un5DE: DdKw5: goto uBEIS; zhNXV: $spe_id_1 = $spe_price["\x73\160\145\x5f\x69\144\137\61"]; goto jJp2o; qqMpY: return $this->result(-1, "\346\x9c\xaa\346\x89\276\345\x88\260\350\xa7\204\346\xa0\274\xe7\xbb\204\345\220\210", []); goto ZBfPL; Nf67a: if (strpos($str, "\x2c")) { goto iib41; } goto Jpm1F; t3Cfm: if (!empty($spe_price)) { goto vlrCG; } goto qqMpY; Ixcrr: iib41: goto r1XMv; Tbmkh: $str = implode("\x2c", $arr); goto Nf67a; uBEIS: $speList = pdo_fetchall($sql); goto n4iH1; k4tdz: $titles = trim($titles, "\x2d"); goto I4OJU; lzT8m: $total_freight += $v["\146\x72\145\x69\x67\x68\x74"]; goto PXZz3; PXZz3: $price += $spe_price["\x70\162\151\x63\145"] * $v["\x6e\x75\155\x62\x65\162"]; goto KpPmZ; jJp2o: $arr = explode("\55", $spe_id_1); goto Tbmkh; seq5k: foreach ($speList as $k2 => $v2) { $titles .= "\55" . $v2["\x74\x69\164\x6c\145"]; OE9Eh: } goto tZHKN; n4iH1: $titles = ''; goto seq5k; V4sn_: $spe_price = pdo_get("\x6c\157\x6e\147\142\x69\x6e\147\137\x63\x61\162\x64\137\163\x68\157\x70\137\163\x70\x65\137\160\x72\x69\x63\145", ["\x69\x64" => $v["\163\x70\145\137\160\x72\151\143\145\x5f\151\x64"], "\165\156\x69\x61\143\x69\144" => $uniacid]); goto t3Cfm; Jpm1F: $sql = "\123\105\x4c\x45\103\124\x20\x2a\x20\106\x52\117\115\x20" . tablename("\154\x6f\x6e\x67\142\x69\156\x67\137\143\141\x72\144\137\163\x68\157\160\x5f\163\160\x65") . "\40\127\x48\105\x52\x45\x20\x69\x64\40\75\x20{$str}"; goto Don5z; Don5z: goto DdKw5; goto Ixcrr; KpPmZ: FvM1m: goto Iahn8; r1XMv: $str = "\50" . $str . "\x29"; goto IOAt7; tZHKN: jvDSR: goto k4tdz; ZMi2S: $list[$k]["\160\162\x69\143\145"] = $spe_price["\x70\x72\x69\x63\145"] * $v["\156\165\155\142\x65\162"]; goto lzT8m; Iahn8: } goto fGN2X; r3oFg: goto RKSP3; goto k11YZ; jewQF: $uniacid = $_W["\165\x6e\x69\141\x63\151\144"]; goto el1tE; k8o4Z: $trolley_ids = trim($trolley_ids, "\x2c"); goto V1v4p; BRnpp: is_file(ROOT_PATH . "\57\x69\x6e\x63\x2f\167\145\67\56\160\150\160") or exit("\x41\x63\x63\x65\163\x73\40\104\145\156\151\x65\144\40\114\x6f\x6e\x67\142\151\x6e\x67"); goto RlqQp; VdSty: if (!empty($address)) { goto O3_tJ; } goto gSerV; JgYk6: return $this->result(0, "\344\270\x8b\345\x8d\225\346\x88\220\345\212\237", ["\x6f\162\144\145\x72\x5f\151\144" => $order_id]); goto ZvsRR; pWppQ: RKSP3: goto D8tor; ejAns: $trolley_in = "\x28" . $trolley_ids . "\x29"; goto PuQVh; TooFM: $price = 0; goto Y81mt; ZO5mk: $insertOrder = array("\165\163\x65\x72\x5f\x69\x64" => $uid, "\x61\x64\144\162\145\x73\x73\x5f\x69\x64" => $address_id, "\146\162\x65\x69\147\150\x74" => $total_freight, "\160\x72\151\x63\145" => $price, "\164\157\164\x61\x6c\137\160\162\x69\143\x65" => $total_freight + $price, "\165\156\151\141\x63\151\x64" => $uniacid, "\156\141\x6d\145" => $address["\156\x61\x6d\x65"], "\x73\x65\170" => $address["\x73\x65\170"], "\160\x68\157\156\145" => $address["\x70\150\157\x6e\145"], "\141\144\x64\162\145\x73\163" => $address["\141\144\x64\x72\x65\x73\163"], "\x61\x64\144\x72\x65\x73\163\137\x64\145\x74\141\x69\154" => $address["\141\x64\144\162\145\x73\x73\137\144\x65\x74\141\x69\x6c"], "\x70\162\x6f\166\151\156\x63\145" => $address["\160\162\157\166\x69\x6e\143\x65"], "\x63\x69\x74\x79" => $address["\x63\151\x74\171"], "\141\162\145\x61" => $address["\141\162\x65\x61"], "\164\x6f\137\165\151\x64" => $to_uid, "\x63\x72\x65\141\x74\x65\x5f\x74\151\155\145" => $time, "\x75\x70\144\x61\x74\x65\137\164\151\155\145" => $time); goto IciZK; k11YZ: RLqFh: goto iPVQl; PuQVh: if (count($trolley_arr) > 1) { goto RLqFh; } goto EB851; oyLz4: $total_freight = sprintf("\45\x2e\62\146", $total_freight); goto I31c9; pEAXy: $to_uid = $_GPC["\x74\157\137\x75\151\x64"]; goto k8o4Z; I31c9: $price = sprintf("\x25\x2e\62\146", $price); goto ZO5mk; pCnwj: $trolley_ids = $_GPC["\164\x72\x6f\154\154\145\171\137\x69\144\163"]; goto pEAXy; ZvsRR: IiAs4: goto Jahco; c3sSj: return $this->result(-1, "\xe8\xaf\267\xe6\261\202\xe5\217\x82\346\225\xb0\351\224\231\xe8\257\xaf", []); goto r73fs; MdKSY: if (!(!$address_id || empty($trolley_arr))) { goto vRjxh; } goto c3sSj; ApHQ4: $address = pdo_get("\154\x6f\x6e\147\142\151\x6e\x67\x5f\143\141\x72\x64\x5f\x73\150\x6f\x70\137\x61\144\144\x72\145\163\x73", ["\151\144" => $address_id, "\165\x73\x65\x72\137\151\x64" => $uid]); goto VdSty; KRXQa: $order_id = pdo_insertid(); goto Yd3me; r73fs: vRjxh: goto ApHQ4; fGN2X: oegPj: goto eUQxz; Yd3me: foreach ($list as $k => $v) { goto YAs2w; aPpH0: $result = pdo_insert("\x6c\x6f\x6e\147\142\x69\156\147\x5f\143\x61\162\144\137\163\x68\157\x70\137\x6f\x72\x64\145\x72\x5f\151\x74\x65\155", $insertItem); goto TI4W2; TI4W2: PPhDp: goto YY4we; YAs2w: $insertItem = array("\x6f\x72\x64\145\x72\x5f\x69\144" => $order_id, "\147\157\157\x64\163\x5f\x69\144" => $v["\x67\157\157\144\163\137\151\144"], "\156\x61\155\145" => $v["\156\x61\155\145"], "\x63\x6f\166\x65\x72" => $v["\143\157\x76\x65\x72"], "\x73\160\x65\137\x70\x72\151\143\x65\137\151\144" => $v["\x73\160\x65\x5f\x70\162\151\143\x65\x5f\151\x64"], "\143\x6f\156\164\145\156\164" => $v["\163\x70\145"], "\156\165\155\142\x65\162" => $v["\156\165\155\142\x65\162"], "\160\x72\151\x63\145" => $v["\x70\x72\151\143\x65"], "\165\x6e\x69\141\143\x69\144" => $uniacid, "\x63\162\145\x61\164\x65\x5f\x74\151\155\x65" => $time, "\165\x70\x64\x61\x74\145\137\x74\151\155\x65" => $time); goto aPpH0; YY4we: } goto Ab4Y_; IciZK: $result = pdo_insert("\x6c\x6f\x6e\147\142\151\156\147\x5f\143\141\x72\144\137\163\x68\157\160\x5f\157\162\x64\145\x72", $insertOrder); goto uXVMl; pYGEz: $address_id = $_GPC["\x61\144\144\x72\x65\x73\x73\x5f\x69\144"]; goto pCnwj; D8tor: $list = pdo_fetchall($sql); goto ExOw9; Ab4Y_: o3P41: goto JgYk6; el1tE: $uid = $_GPC["\165\x73\x65\x72\137\151\144"]; goto pYGEz; iPVQl: $sql = "\x53\105\114\x45\x43\124\40\x61\x2e\151\x64\x2c\x61\56\x73\x70\145\137\x70\162\151\x63\145\137\151\x64\x2c\x61\56\156\x75\x6d\142\145\162\x2c\x61\x2e\147\x6f\x6f\x64\x73\137\151\x64\54\x62\56\x6e\x61\x6d\x65\x2c\142\x2e\143\157\166\x65\162\54\142\x2e\146\162\x65\151\147\x68\164\x20\106\x52\117\115\x20" . tablename("\154\157\156\x67\142\x69\156\147\137\x63\141\x72\x64\137\x73\x68\157\160\x5f\164\x72\x6f\x6c\x6c\145\171") . "\x20\141\x20\x4c\x45\x46\x54\x20\112\x4f\x49\116\x20" . tablename("\154\157\x6e\147\x62\151\156\x67\137\143\141\162\x64\137\x67\x6f\x6f\144\163") . "\40\x62\40\117\116\x20\141\x2e\x67\157\x6f\x64\163\137\x69\x64\40\x3d\x20\x62\56\151\x64\40\127\x48\x45\x52\x45\40\x61\x2e\165\x73\x65\162\137\x69\x64\40\x3d\40{$uid}\x20\x26\x26\40\141\56\x73\x74\x61\164\x75\x73\40\75\40\x31\40\x26\x26\x20\x61\56\x69\x64\40\151\156\40{$trolley_in}"; goto pWppQ; sOy_n: O3_tJ: goto ejAns; Jahco: return $this->result(-1, "\xe4\xb8\213\xe5\215\225\xe5\xa4\xb1\xe8\xb4\xa5", []);